(function(t){function e(e){for(var a,o,i=e[0],c=e[1],u=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},s={app:0},r=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"012c":function(t,e,n){},"034f":function(t,e,n){"use strict";var a=n("85ec"),s=n.n(a);s.a},"0cc3":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | ")],1),n("router-view")],1)},r=[],o=(n("034f"),n("2877")),i={},c=Object(o["a"])(i,s,r,!1,null,null,null),u=c.exports,l=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-container"},[n("transition",{attrs:{name:"fade"}},[this.post.id?n("PostUpdateComponent",{attrs:{post:this.post},on:{"update-modal-closed":function(e){t.post=[]}}}):t._e()],1),n("PostComponent"),n("PostList",{on:{"updating-post":t.setPost}})],1)},p=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-list"},[n("transition",{attrs:{name:"fade"}},[t.fetching&&!t.error?n("div",{staticClass:"hollow-dots-spinner"},[n("div",{staticClass:"dot"}),n("div",{staticClass:"dot"}),n("div",{staticClass:"dot"})]):t._e()]),n("transition",{attrs:{name:"fade"}},[!t.posts.length&&!t.error||t.fetching?n("p",{staticClass:"status"},[t._v(t._s(t.statusMessage))]):t._e()]),n("transition",{attrs:{name:"fade"}},[t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e()]),n("transition-group",{attrs:{name:"fade"}},t._l(t.posts.slice().reverse(),(function(e,a){return n("div",{key:e._id,staticClass:"post",attrs:{item:e,index:a}},[n("b-dropdown",{staticClass:"m-2 float-right",attrs:{id:"dropdown-right",right:"","no-caret":"",html:"<i class='fas fa-ellipsis-v'></i>",variant:"light"}},[n("b-dropdown-item-button",{attrs:{variant:"warning","button-class":"btn-update py-3"},on:{click:function(n){t.$emit("updating-post",t.getSinglePost(e._id,e.text))}}},[n("i",{staticClass:"far fa-edit"}),t._v(" Edit ")]),n("b-dropdown-item-button",{attrs:{variant:"danger","active-class":"danger","button-class":"btn-delete py-3"},on:{click:function(n){return t.deletePost(e._id)}}},[n("i",{staticClass:"far fa-trash-alt"}),t._v(" Delete ")])],1),n("transition",{attrs:{name:"fade"}},[n("p",{staticClass:"post-text"},[t._v(" "+t._s(e.text)+" ")])]),n("p",{staticClass:"post-date"},[e.updatedAt?t._e():n("small",[n("i",[t._v("Posted on "+t._s(t.getDateAndTime(e.createdAt)))])]),e.updatedAt?n("small",[n("i",[t._v("Updated on "+t._s(""+t.getDateAndTime(new Date(e.updatedAt))))])]):t._e()])],1)})),0)],1)},g=[],m=(n("99af"),n("96cf"),n("1da1")),v=(n("d81d"),n("d3b7"),n("5530")),h=n("d4ec"),b=n("bee2"),x=n("bc3a"),w=n.n(x),P="/api/posts/",_=function(){function t(){Object(h["a"])(this,t)}return Object(b["a"])(t,null,[{key:"getPost",value:function(){return new Promise((function(t,e){w.a.get(P).then((function(e){var n=e.data;t(n.map((function(t){return Object(v["a"])(Object(v["a"])({},t),{},{createdAt:new Date(t.createdAt)})})))})).catch((function(t){e(t)}))}))}},{key:"insertPost",value:function(t){return w.a.post(P,{text:t})}},{key:"updatePost",value:function(t,e){return w.a.put(P+e,{text:t})}},{key:"deletePost",value:function(t){return w.a.delete("".concat(P).concat(t))}}]),t}(),y=new a["default"],C=(n("f9e3"),n("2dd8"),{name:"PostList",data:function(){return{posts:[],error:"",statusMessage:"Loading...",fetching:!1,isDeleting:!1,monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},created:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.fetching=!0,t.loadPosts(),y.$on("posting",(function(){t.fetching=!0,t.statusMessage="Sending post to the network..."})),y.$on("post-complete",(function(){t.statusMessage="Post has been sent! Now retrieving current posts...",t.loadPosts()})),y.$on("post-updated",(function(){t.statusMessage="Post has been updated! Now retrieving current posts...",t.loadPosts()}));case 5:case"end":return e.stop()}}),e)})))()},methods:{loadPosts:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.fetching||(t.fetching=!0),e.prev=1,e.next=4,_.getPost();case 4:t.posts=e.sent,t.posts.length||(t.statusMessage="There's nothing here..."),t.text="",e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),t.error=e.t0.message;case 12:t.fetching=!1;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},deletePost:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.isDeleting=!0,e.fetching=!0,e.statusMessage="Deleting post...",n.next=5,_.deletePost(t);case 5:e.statusMessage="Post deleted! Now retrieving all posts",e.loadPosts(),e.isDeleting=!1;case 8:case"end":return n.stop()}}),n)})))()},getDateAndTime:function(t){return"".concat(this.monthNames[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear()," at ").concat(this.formatAMPM(t))},getSinglePost:function(t,e){var n={id:t,text:e};return n},formatAMPM:function(t){var e=t.getHours(),n=t.getMinutes(),a=e>=12?"PM":"AM";e%=12,e=e||12,n=n<10?"0"+n:n;var s=e+":"+n+" "+a;return s}}}),k=C,M=(n("77d7"),Object(o["a"])(k,f,g,!1,null,"5ba68c55",null)),O=M.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-component-main"},[n("div",{staticClass:"posting-area"},[n("br"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticStyle:{"margin-right":"15px"},attrs:{type:"text",id:"create-post",placeholder:"Say something..."},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),n("button",{staticClass:"btn-post",attrs:{disabled:t.posting},on:{click:t.createPost}},[t.posting?n("b-icon",{attrs:{icon:"circle-fill",animation:"throb","font-scale":"1"}}):n("span",[t._v("Post")])],1),n("p",{staticClass:"error"},[t._v(t._s(t.errorMsg))])])])},T=[],$=(n("5df9"),{name:"PostComponent",data:function(){return{text:"",posting:!1,errorMsg:""}},methods:{createPost:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.text.length>0)){e.next=11;break}return t.errorMsg="",t.posting=!0,y.$emit("posting"),e.next=6,_.insertPost(t.text);case 6:t.text="",y.$emit("post-complete"),t.posting=!1,e.next=12;break;case 11:t.errorMsg="Please type something...";case 12:case"end":return e.stop()}}),e)})))()}}}),A=$,D=(n("7e87"),Object(o["a"])(A,j,T,!1,null,"aebec2ea",null)),S=D.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-update-comp"},[n("div",{staticClass:"component-card"},[n("div",{staticClass:"element-wrapper"},[n("h1",[t._v("Update Post")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newText,expression:"newText"}],attrs:{type:"text",id:"create-post"},domProps:{value:t.newText},on:{input:function(e){e.target.composing||(t.newText=e.target.value)}}}),n("div",{staticClass:"action-container"},[n("button",{staticClass:"btn-update",attrs:{disabled:t.updating},on:{click:t.updatePost}},[t.updating?n("i",{staticClass:"fa fa-spinner fa-spin"}):t._e(),t._v(" "+t._s(t.btnUpdateText)+" ")]),n("button",{staticClass:"btn-cancel",attrs:{disabled:t.updating},on:{click:function(e){return t.$emit("update-modal-closed")}}},[t._v("Cancel")])])])])])},U=[],N={props:["post"],data:function(){return{newText:"",btnUpdateText:"Update",updating:!1}},methods:{updatePost:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.newText==t.post.text){e.next=16;break}return e.prev=1,t.updating=!0,t.btnUpdateText="Updating...",e.next=6,_.updatePost(t.newText,t.post.id);case 6:t.$emit("update-modal-closed"),t.$emit("post-updated"),y.$emit("post-updated"),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),console.log(e.t0);case 14:e.next=17;break;case 16:t.$emit("update-modal-closed");case 17:case"end":return e.stop()}}),e,null,[[1,11]])})))()}},created:function(){this.newText=this.post.text}},E=N,J=(n("88a4"),Object(o["a"])(E,R,U,!1,null,"922348ac",null)),H=J.exports,L={name:"Home",components:{PostComponent:S,PostUpdateComponent:H,PostList:O},data:function(){return{post:[]}},methods:{setPost:function(t){this.post=t}}},F=L,Y=(n("d6c8"),Object(o["a"])(F,d,p,!1,null,"67441d16",null)),q=Y.exports;a["default"].use(l["a"]);var z=[{path:"/",name:"Home",component:q}],B=new l["a"]({mode:"history",base:"/",routes:z}),G=B,I=(n("15f5"),n("7051"),n("5f5b")),K=n("b1e0");a["default"].use(I["a"]),a["default"].use(K["a"]),a["default"].config.productionTip=!1,new a["default"]({router:G,render:function(t){return t(u)}}).$mount("#app")},"77d7":function(t,e,n){"use strict";var a=n("012c"),s=n.n(a);s.a},"7e87":function(t,e,n){"use strict";var a=n("80f0"),s=n.n(a);s.a},"80f0":function(t,e,n){},"85ec":function(t,e,n){},"88a4":function(t,e,n){"use strict";var a=n("0cc3"),s=n.n(a);s.a},ca73:function(t,e,n){},d6c8:function(t,e,n){"use strict";var a=n("ca73"),s=n.n(a);s.a}});
//# sourceMappingURL=app.54d391f6.js.map